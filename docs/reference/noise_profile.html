<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Measure full spectrum sound noise profiles — noise_profile • baRulho</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Measure full spectrum sound noise profiles — noise_profile" />
<meta property="og:description" content="noise_profile Measure full spectrum sound pressure levels (i.e. noise profiles) in sound files or extended selection tables." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">baRulho</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maRce10/baRulho/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Measure full spectrum sound noise profiles</h1>
    <small class="dont-index">Source: <a href='https://github.com/maRce10/baRulho/blob/master/R/noise_profile.R'><code>R/noise_profile.R</code></a></small>
    <div class="hidden name"><code>noise_profile.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>noise_profile</code> Measure full spectrum sound pressure levels (i.e. noise profiles) in sound files or extended selection tables.</p>
    </div>

    <pre class="usage"><span class='fu'>noise_profile</span>(<span class='kw'>X</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>files</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>mar</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
<span class='kw'>noise.ref</span> <span class='kw'>=</span> <span class='st'>"adjacent"</span>, <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>pb</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
<span class='kw'>bp</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>hop.size</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>wl</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>PSD</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>norm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>dB</span> <span class='kw'>=</span> <span class='st'>"A"</span>, <span class='kw'>averaged</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>X</th>
      <td><p>object of class 'extended_selection_table' created by the function <code><a href='https://rdrr.io/pkg/warbleR/man/selection_table.html'>selection_table</a></code> from the warbleR package. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>files</th>
      <td><p>Character vector with names of wave files to be analyzed. Files must be found in 'path' supplied (or in the working directory if 'path' is not supplied). Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>mar</th>
      <td><p>numeric vector of length 1. Specifies the margins adjacent to
the start and end points of selection over which to measure ambient noise. Required if 'X' is supplied and ignored if not supplied. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>noise.ref</th>
      <td><p>Character vector of length 1 to determined which noise segment must be used for measuring ambient noise. Ignored if 'X' is not supplied. Two options are available:</p><ul>
<li><p><code>adjacent</code>: measure ambient noise right before the signal (using argument 'mar' to define duration of ambient noise segments).</p></li>
<li><p><code>custom</code>: measure ambient noise segments referenced in the selection table (labeled as 'ambient' in the 'signal.type' column).</p></li>
</ul></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>Numeric vector of length 1. Controls whether parallel computing is applied by specifying the number of cores to be used. Default is 1 (i.e. no parallel computing).</p></td>
    </tr>
    <tr>
      <th>pb</th>
      <td><p>Logical argument to control if progress bar is shown. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>Character string containing the directory path where the sound files are located.
If <code>NULL</code> (default) then the current working directory is used.</p></td>
    </tr>
    <tr>
      <th>bp</th>
      <td><p>Numeric vector of length 2 giving the lower and upper limits of a frequency bandpass filter (in kHz). Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>hop.size</th>
      <td><p>A numeric vector of length 1 specifying the time window duration (in ms). Default is 1 ms, which is equivalent to ~45 wl for a 44.1 kHz sampling rate. Ignored if 'wl' is supplied.</p></td>
    </tr>
    <tr>
      <th>wl</th>
      <td><p>A numeric vector of length 1 specifying the window length of the spectrogram, default 
is NULL. Ignored if <code>bp = NULL</code>. If supplied, 'hop.size' is ignored. 
Note that lower values will increase time resolution, which is more important for amplitude ratio calculations.</p></td>
    </tr>
    <tr>
      <th>PSD</th>
      <td><p>Logical to control whether the Probability Mass Function (the probability distribution of frequencies). See <code><a href='https://rdrr.io/pkg/seewave/man/meanspec.html'>meanspec</a></code>. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>norm</th>
      <td><p>Logical to control whether amplitude values are normalized (divided by the maximum) so the highest value is 1. See <code><a href='https://rdrr.io/pkg/seewave/man/meanspec.html'>meanspec</a></code>. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>dB</th>
      <td><p>A character string of length 1 specifying the type dB to return: "max0" for a maximum dB value at 0, "A", "B", "C", "D", and "ITU" for common dB weights. See <code><a href='https://rdrr.io/pkg/seewave/man/meanspec.html'>meanspec</a></code>. Default is <code>"A"</code>.</p></td>
    </tr>
    <tr>
      <th>averaged</th>
      <td><p>Logical to control if frequency spectra are averaged within a sound file. Default is <code>TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list containing the the frequency spectra for each sound file or wave object (if 'X' is supplied).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function `noise_profile()` allows to estimate full spectrum sound pressure levels (i.e. noise profiles) of ambient noise. This can be done on extended selection tables (using the segments containing no signal) or over complete sound files in the working directory (or path supplied). The function uses <code><a href='https://rdrr.io/pkg/seewave/man/meanspec.html'>meanspec</a></code> internally to calculate frequency spectra.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Araya-Salas, M. (2020). baRulho: baRulho: quantifying habitat-induced degradation of (animal) acoustic signals in R. R package version 1.0.2.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='excess_attenuation.html'>excess_attenuation</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>{
<span class='co'># load example data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"playback_est"</span>)

<span class='co'># custom noise reference</span>
<span class='fu'>noise_profile</span>(<span class='kw'>X</span> <span class='kw'>=</span> <span class='no'>playback_est</span>, <span class='kw'>mar</span> <span class='kw'>=</span> <span class='fl'>0.01</span>, <span class='kw'>pb</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>noise.ref</span> <span class='kw'>=</span> <span class='st'>"custom"</span>)

<span class='co'># remove noise selections</span>
<span class='no'>pe</span> <span class='kw'>&lt;-</span> <span class='no'>playback_est</span>[<span class='no'>playback_est</span>$<span class='no'>signal.type</span> <span class='kw'>!=</span> <span class='st'>"ambient"</span>, ]

 <span class='fu'>noise_profile</span>(<span class='kw'>X</span> <span class='kw'>=</span> <span class='no'>pe</span>, <span class='kw'>mar</span> <span class='kw'>=</span> <span class='fl'>0.01</span>, <span class='kw'>pb</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>noise.ref</span> <span class='kw'>=</span> <span class='st'>"adjacent"</span>)
}</div><div class='output co'>#&gt;       sound.files      freq         amp
#&gt; 1  01m_re-rec.wav  1.002273  -2.2532443
#&gt; 2  05m_re-rec.wav  1.002273  -3.0413888
#&gt; 3  10m_re-rec.wav  1.002273  -3.9732349
#&gt; 4  15m_re-rec.wav  1.002273  -1.2053299
#&gt; 5  01m_re-rec.wav  2.004545  -0.6909814
#&gt; 6  05m_re-rec.wav  2.004545  -6.9442057
#&gt; 7  10m_re-rec.wav  2.004545 -10.7919247
#&gt; 8  15m_re-rec.wav  2.004545  -2.1165384
#&gt; 9  01m_re-rec.wav  3.006818  -0.2716827
#&gt; 10 05m_re-rec.wav  3.006818  -7.2823787
#&gt; 11 10m_re-rec.wav  3.006818 -12.6046184
#&gt; 12 15m_re-rec.wav  3.006818  -5.1599786
#&gt; 13 01m_re-rec.wav  4.009091  -0.8138351
#&gt; 14 05m_re-rec.wav  4.009091  -7.6421811
#&gt; 15 10m_re-rec.wav  4.009091 -13.1475066
#&gt; 16 15m_re-rec.wav  4.009091  -8.8460655
#&gt; 17 01m_re-rec.wav  5.011364  -1.2037548
#&gt; 18 05m_re-rec.wav  5.011364 -10.1569869
#&gt; 19 10m_re-rec.wav  5.011364 -15.8927258
#&gt; 20 15m_re-rec.wav  5.011364 -13.0932185
#&gt; 21 01m_re-rec.wav  6.013636  -1.4943981
#&gt; 22 05m_re-rec.wav  6.013636 -15.3383886
#&gt; 23 10m_re-rec.wav  6.013636 -19.0681979
#&gt; 24 15m_re-rec.wav  6.013636 -17.0763860
#&gt; 25 01m_re-rec.wav  7.015909  -2.1414682
#&gt; 26 05m_re-rec.wav  7.015909 -17.5006699
#&gt; 27 10m_re-rec.wav  7.015909 -20.5585505
#&gt; 28 15m_re-rec.wav  7.015909 -20.7143113
#&gt; 29 01m_re-rec.wav  8.018182  -3.1073995
#&gt; 30 05m_re-rec.wav  8.018182 -19.3363166
#&gt; 31 10m_re-rec.wav  8.018182 -21.2329218
#&gt; 32 15m_re-rec.wav  8.018182 -22.7623081
#&gt; 33 01m_re-rec.wav  9.020455  -3.4377929
#&gt; 34 05m_re-rec.wav  9.020455 -20.9422345
#&gt; 35 10m_re-rec.wav  9.020455 -22.6311834
#&gt; 36 15m_re-rec.wav  9.020455 -23.2217100
#&gt; 37 01m_re-rec.wav 10.022727  -4.4559123
#&gt; 38 05m_re-rec.wav 10.022727 -21.1776230
#&gt; 39 10m_re-rec.wav 10.022727 -24.7976760
#&gt; 40 15m_re-rec.wav 10.022727 -25.3171512
#&gt; 41 01m_re-rec.wav 11.025000  -5.6207578
#&gt; 42 05m_re-rec.wav 11.025000 -22.0324211
#&gt; 43 10m_re-rec.wav 11.025000 -26.4245492
#&gt; 44 15m_re-rec.wav 11.025000 -26.9855887
#&gt; 45 01m_re-rec.wav 12.027273  -6.0670984
#&gt; 46 05m_re-rec.wav 12.027273 -22.8498687
#&gt; 47 10m_re-rec.wav 12.027273 -27.9525135
#&gt; 48 15m_re-rec.wav 12.027273 -28.4808445
#&gt; 49 01m_re-rec.wav 13.029545  -5.7592948
#&gt; 50 05m_re-rec.wav 13.029545 -23.3496568
#&gt; 51 10m_re-rec.wav 13.029545 -28.3442814
#&gt; 52 15m_re-rec.wav 13.029545 -29.7696207
#&gt; 53 01m_re-rec.wav 14.031818  -7.0894995
#&gt; 54 05m_re-rec.wav 14.031818 -23.4142156
#&gt; 55 10m_re-rec.wav 14.031818 -28.6948257
#&gt; 56 15m_re-rec.wav 14.031818 -30.1101591
#&gt; 57 01m_re-rec.wav 15.034091  -7.4323758
#&gt; 58 05m_re-rec.wav 15.034091 -24.8435810
#&gt; 59 10m_re-rec.wav 15.034091 -29.5905336
#&gt; 60 15m_re-rec.wav 15.034091 -31.0022175
#&gt; 61 01m_re-rec.wav 16.036364  -7.6733733
#&gt; 62 05m_re-rec.wav 16.036364 -26.4112546
#&gt; 63 10m_re-rec.wav 16.036364 -30.0180308
#&gt; 64 15m_re-rec.wav 16.036364 -30.4158774
#&gt; 65 01m_re-rec.wav 17.038636  -9.3157457
#&gt; 66 05m_re-rec.wav 17.038636 -28.1215009
#&gt; 67 10m_re-rec.wav 17.038636 -30.4461634
#&gt; 68 15m_re-rec.wav 17.038636 -29.9404637
#&gt; 69 01m_re-rec.wav 18.040909  -9.0656420
#&gt; 70 05m_re-rec.wav 18.040909 -28.5300672
#&gt; 71 10m_re-rec.wav 18.040909 -30.6998153
#&gt; 72 15m_re-rec.wav 18.040909 -31.0568108
#&gt; 73 01m_re-rec.wav 19.043182  -9.7682791
#&gt; 74 05m_re-rec.wav 19.043182 -28.7972724
#&gt; 75 10m_re-rec.wav 19.043182 -31.8639822
#&gt; 76 15m_re-rec.wav 19.043182 -32.1661937
#&gt; 77 01m_re-rec.wav 20.045455 -10.8878775
#&gt; 78 05m_re-rec.wav 20.045455 -29.5155007
#&gt; 79 10m_re-rec.wav 20.045455 -31.7452545
#&gt; 80 15m_re-rec.wav 20.045455 -34.2860682
#&gt; 81 01m_re-rec.wav 21.047727 -11.4022093
#&gt; 82 05m_re-rec.wav 21.047727 -31.7338033
#&gt; 83 10m_re-rec.wav 21.047727 -34.2368134
#&gt; 84 15m_re-rec.wav 21.047727 -36.7757146</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcelo Araya-Salas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


